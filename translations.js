// translations.js - LearningHub Translations

const translations = {
    // ==================== INDEX / LOGIN ====================
    'site-title': { fr: 'LearningHub - Connexion', en: 'LearningHub - Login' },
    'site-subtitle': { fr: 'Plateforme de formation en ligne', en: 'Online Learning Platform' },
    'tab-login': { fr: 'Connexion', en: 'Login' },
    'tab-register': { fr: 'Inscription', en: 'Register' },
    'label-email': { fr: 'Email', en: 'Email' },
    'label-password': { fr: 'Mot de passe', en: 'Password' },
    'label-fullname': { fr: 'Nom complet', en: 'Full Name' },
    'placeholder-email': { fr: 'votre@email.com', en: 'your@email.com' },
    'placeholder-password': { fr: 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢', en: 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢' },
    'placeholder-name': { fr: 'Jean Dupont', en: 'John Doe' },
    'placeholder-password-min': { fr: 'Minimum 6 caractÃ¨res', en: 'Minimum 6 characters' },
    'btn-login': { fr: 'Se connecter', en: 'Sign In' },
    'btn-register': { fr: 'CrÃ©er mon compte', en: 'Create Account' },
    'link-forgot': { fr: 'Mot de passe oubliÃ© ?', en: 'Forgot password?' },
    'loading-login': { fr: 'Connexion en cours...', en: 'Signing in...' },
    
    // Messages
    'msg-fill-fields': { fr: 'Veuillez remplir tous les champs', en: 'Please fill in all fields' },
    'msg-login-success': { fr: 'Connexion rÃ©ussie !', en: 'Login successful!' },
    'msg-login-error': { fr: 'Erreur de connexion', en: 'Login error' },
    'msg-user-not-found': { fr: 'Aucun compte trouvÃ© avec cet email', en: 'No account found with this email' },
    'msg-wrong-password': { fr: 'Mot de passe incorrect', en: 'Incorrect password' },
    'msg-invalid-email': { fr: 'Email invalide', en: 'Invalid email' },
    'msg-too-many-requests': { fr: 'Trop de tentatives, rÃ©essayez plus tard', en: 'Too many attempts, try again later' },
    'msg-invalid-credential': { fr: 'Email ou mot de passe incorrect', en: 'Incorrect email or password' },
    'msg-password-min': { fr: 'Le mot de passe doit contenir au moins 6 caractÃ¨res', en: 'Password must be at least 6 characters' },
    'msg-register-success': { fr: 'Compte crÃ©Ã© avec succÃ¨s !', en: 'Account created successfully!' },
    'msg-register-error': { fr: "Erreur lors de l'inscription", en: 'Registration error' },
    'msg-email-in-use': { fr: 'Cet email est dÃ©jÃ  utilisÃ©', en: 'This email is already in use' },
    'msg-weak-password': { fr: 'Mot de passe trop faible', en: 'Password too weak' },
    'msg-enter-email-reset': { fr: 'Entrez votre email pour rÃ©initialiser votre mot de passe', en: 'Enter your email to reset your password' },
    'msg-reset-sent': { fr: 'Email de rÃ©initialisation envoyÃ© !', en: 'Password reset email sent!' },
    'msg-reset-error': { fr: 'Erreur : vÃ©rifiez votre email', en: 'Error: check your email' },
    
    // ==================== STUDENT DASHBOARD ====================
    'page-title-student': { fr: 'Mon Espace - LearningHub', en: 'My Space - LearningHub' },
    'welcome': { fr: 'Bienvenue', en: 'Welcome' },
    'welcome-message': { fr: 'Continuez votre apprentissage et atteignez vos objectifs.', en: 'Continue your learning and achieve your goals.' },
    'btn-logout': { fr: 'DÃ©connexion', en: 'Logout' },
    'loading-user': { fr: 'Chargement...', en: 'Loading...' },
    
    // Stats
    'stat-assigned': { fr: 'Cours assignÃ©s', en: 'Assigned Courses' },
    'stat-completed': { fr: 'Cours terminÃ©s', en: 'Completed Courses' },
    'stat-progress': { fr: 'Progression globale', en: 'Overall Progress' },
    'stat-certificates': { fr: 'Certificats obtenus', en: 'Certificates Earned' },
    
    // Tabs
    'tab-my-courses': { fr: 'Mes Cours', en: 'My Courses' },
    'tab-my-programs': { fr: 'Mes Programmes', en: 'My Programs' },
    
    // Loading
    'loading-courses': { fr: 'Chargement de vos formations...', en: 'Loading your courses...' },
    
    // Empty states
    'no-courses-title': { fr: 'Aucun cours assignÃ©', en: 'No courses assigned' },
    'no-courses-message': { fr: 'Votre formateur vous assignera bientÃ´t des cours.', en: 'Your instructor will assign courses soon.' },
    'no-programs-title': { fr: 'Aucun programme assignÃ©', en: 'No programs assigned' },
    'no-programs-message': { fr: 'Votre formateur vous assignera bientÃ´t des programmes.', en: 'Your instructor will assign programs soon.' },
    
    // Course cards
    'progression': { fr: 'Progression', en: 'Progress' },
    'btn-review': { fr: 'âœ… Revoir le cours', en: 'âœ… Review Course' },
    'btn-continue': { fr: 'â–¶ï¸ Continuer', en: 'â–¶ï¸ Continue' },
    'btn-start': { fr: 'â–¶ï¸ Commencer', en: 'â–¶ï¸ Start' },
    'certificate': { fr: 'Certificat', en: 'Certificate' },
    'all-levels': { fr: 'Tous niveaux', en: 'All Levels' },
    'training': { fr: 'Formation', en: 'Training' },
    
    // Formats
    'format-elearning': { fr: 'ðŸ’» E-learning', en: 'ðŸ’» E-learning' },
    'format-presentiel': { fr: 'ðŸ¢ PrÃ©sentiel', en: 'ðŸ¢ In-Person' },
    'format-distanciel': { fr: 'ðŸŽ¥ Distanciel', en: 'ðŸŽ¥ Remote' },
    'format-hybride': { fr: 'ðŸ”„ Hybride', en: 'ðŸ”„ Hybrid' },
    
    // Programs
    'program-courses': { fr: 'Cours du programme', en: 'Program Courses' },
    'program-documents': { fr: 'Documents Ã  consulter', en: 'Documents to Review' },
    'courses': { fr: 'cours', en: 'courses' },
    'documents': { fr: 'documents', en: 'documents' },
    'completed-of': { fr: 'terminÃ©s', en: 'completed' },
    'percent-completed': { fr: 'complÃ©tÃ©', en: 'completed' },
    'validated': { fr: 'ValidÃ©', en: 'Validated' },
    'to-validate': { fr: 'Ã€ valider', en: 'To validate' },
    'free-consultation': { fr: 'Consultation libre', en: 'Free consultation' },
    
    // Document modal
    'doc-description': { fr: 'ðŸ“ Description', en: 'ðŸ“ Description' },
    'doc-actions': { fr: 'ðŸ“Ž Actions', en: 'ðŸ“Ž Actions' },
    'doc-validation': { fr: 'âœ… Validation', en: 'âœ… Validation' },
    'btn-view': { fr: 'ðŸ‘ï¸ Visualiser', en: 'ðŸ‘ï¸ View' },
    'btn-download': { fr: 'â¬‡ï¸ TÃ©lÃ©charger', en: 'â¬‡ï¸ Download' },
    'no-description': { fr: 'Aucune description disponible.', en: 'No description available.' },
    'no-validation-required': { fr: 'Aucune validation requise pour ce document.', en: 'No validation required for this document.' },
    'acceptance-text': { fr: "J'ai lu, compris et j'accepte de me conformer Ã  ce document.", en: 'I have read, understood and agree to comply with this document.' },
    'document-accepted': { fr: 'âœ… Document acceptÃ©', en: 'âœ… Document accepted' },
    
    // ==================== INSTRUCTOR DASHBOARD ====================
    'page-title-instructor': { fr: 'Tableau de bord - Formateur', en: 'Dashboard - Instructor' },
    'instructor-welcome': { fr: 'Bienvenue', en: 'Welcome' },
    'instructor-subtitle': { fr: 'GÃ©rez vos formations et suivez vos apprenants', en: 'Manage your courses and track your learners' },
    
    // Menu
    'menu-courses': { fr: 'ðŸ“š Cours', en: 'ðŸ“š Courses' },
    'menu-programs': { fr: 'ðŸŽ“ Programmes', en: 'ðŸŽ“ Programs' },
    'menu-users': { fr: 'ðŸ‘¥ Utilisateurs', en: 'ðŸ‘¥ Users' },
    'menu-documents': { fr: 'ðŸ“„ Documents', en: 'ðŸ“„ Documents' },
    'menu-categories': { fr: 'ðŸ“ CatÃ©gories', en: 'ðŸ“ Categories' },
    'menu-settings': { fr: 'âš™ï¸ ParamÃ¨tres', en: 'âš™ï¸ Settings' },
    
    // Stats instructor
    'total-courses': { fr: 'Total cours', en: 'Total Courses' },
    'total-students': { fr: 'Apprenants', en: 'Learners' },
    'total-programs': { fr: 'Programmes', en: 'Programs' },
    'completion-rate': { fr: 'Taux de complÃ©tion', en: 'Completion Rate' },
    
    // ==================== DOCUMENTS MANAGEMENT ====================
    'page-title-documents': { fr: 'Gestion des Documents - LearningHub', en: 'Documents Management - LearningHub' },
    'documents-title': { fr: 'ðŸ“„ Gestion des Documents', en: 'ðŸ“„ Documents Management' },
    'btn-back': { fr: 'â† Retour', en: 'â† Back' },
    'tab-create': { fr: 'CrÃ©er un document', en: 'Create Document' },
    'tab-my-documents': { fr: 'Mes documents', en: 'My Documents' },
    'new-document': { fr: 'ðŸ“ Nouveau document', en: 'ðŸ“ New Document' },
    'document-name': { fr: 'Nom du document *', en: 'Document Name *' },
    'document-name-placeholder': { fr: 'Ex: Politique de confidentialitÃ©', en: 'Ex: Privacy Policy' },
    'document-summary': { fr: 'RÃ©sumÃ©', en: 'Summary' },
    'document-summary-placeholder': { fr: 'DÃ©crivez briÃ¨vement le contenu du document...', en: 'Briefly describe the document content...' },
    'document-file': { fr: 'Fichier PDF *', en: 'PDF File *' },
    'drag-pdf': { fr: 'Glissez votre PDF ici', en: 'Drag your PDF here' },
    'or-click': { fr: 'ou cliquez pour sÃ©lectionner un fichier', en: 'or click to select a file' },
    'category': { fr: 'CatÃ©gorie', en: 'Category' },
    'cat-policy': { fr: 'Politique / RÃ¨glement', en: 'Policy / Rules' },
    'cat-guide': { fr: 'Guide / Manuel', en: 'Guide / Manual' },
    'cat-form': { fr: 'Formulaire', en: 'Form' },
    'cat-certificate': { fr: 'Attestation', en: 'Certificate' },
    'cat-other': { fr: 'Autre', en: 'Other' },
    'requires-acceptance': { fr: "L'Ã©tudiant doit accepter ce document (case \"J'ai lu et j'accepte\")", en: 'Student must accept this document ("I have read and accept" checkbox)' },
    'btn-save-document': { fr: 'ðŸ’¾ Enregistrer le document', en: 'ðŸ’¾ Save Document' },
    'upload-progress': { fr: 'Upload en cours...', en: 'Uploading...' },
    'document-created': { fr: 'Document crÃ©Ã© avec succÃ¨s !', en: 'Document created successfully!' },
    'document-updated': { fr: 'Document mis Ã  jour !', en: 'Document updated!' },
    'document-deleted': { fr: 'Document supprimÃ©', en: 'Document deleted' },
    'no-documents': { fr: 'Aucun document', en: 'No documents' },
    'create-first-document': { fr: 'CrÃ©ez votre premier document.', en: 'Create your first document.' },
    'no-summary': { fr: 'Aucun rÃ©sumÃ©', en: 'No summary' },
    'edit-document': { fr: 'âœï¸ Modifier le document', en: 'âœï¸ Edit Document' },
    'btn-cancel': { fr: 'Annuler', en: 'Cancel' },
    'btn-save': { fr: 'ðŸ’¾ Enregistrer', en: 'ðŸ’¾ Save' },
    'confirm-delete': { fr: 'Supprimer ce document ?', en: 'Delete this document?' },
    'auth-checking': { fr: 'â³ VÃ©rification de la connexion...', en: 'â³ Checking connection...' },
    'auth-required': { fr: 'âš ï¸ Vous devez Ãªtre connectÃ© pour gÃ©rer les documents.', en: 'âš ï¸ You must be logged in to manage documents.' },
    'connect': { fr: 'Se connecter', en: 'Sign In' },
    
    // ==================== PROGRAMS ====================
    'page-title-programs': { fr: 'Programmes - LearningHub', en: 'Programs - LearningHub' },
    'programs-title': { fr: 'ðŸŽ“ Programmes de Formation', en: 'ðŸŽ“ Training Programs' },
    'tab-my-programs-list': { fr: 'ðŸ“‹ Mes Programmes', en: 'ðŸ“‹ My Programs' },
    'tab-create-program': { fr: 'âž• CrÃ©er un Programme', en: 'âž• Create Program' },
    'program-info': { fr: 'ðŸ“‹ Informations du programme', en: 'ðŸ“‹ Program Information' },
    'program-title': { fr: 'Titre du programme *', en: 'Program Title *' },
    'program-title-placeholder': { fr: 'Ex: Parcours Compliance 2025', en: 'Ex: Compliance Path 2025' },
    'program-description': { fr: 'Description', en: 'Description' },
    'program-description-placeholder': { fr: 'DÃ©crivez ce programme...', en: 'Describe this program...' },
    'deadline-date': { fr: 'ðŸ“… Date limite (deadline)', en: 'ðŸ“… Deadline Date' },
    'deadline-hint': { fr: 'Date avant laquelle les Ã©tudiants doivent terminer', en: 'Date by which students must finish' },
    'deadline-time': { fr: 'â° Heure limite', en: 'â° Deadline Time' },
    'included-courses': { fr: 'ðŸ“š Cours inclus', en: 'ðŸ“š Included Courses' },
    'select-courses': { fr: 'SÃ©lectionnez les cours Ã  inclure :', en: 'Select courses to include:' },
    'associated-documents': { fr: 'ðŸ“„ Documents associÃ©s', en: 'ðŸ“„ Associated Documents' },
    'select-documents': { fr: "SÃ©lectionnez les documents que l'Ã©tudiant devra consulter et accepter :", en: 'Select documents that students must review and accept:' },
    'selected-courses': { fr: 'ðŸ“‹ Cours sÃ©lectionnÃ©s :', en: 'ðŸ“‹ Selected Courses:' },
    'selected-documents': { fr: 'ðŸ“„ Documents sÃ©lectionnÃ©s :', en: 'ðŸ“„ Selected Documents:' },
    'btn-draft': { fr: 'ðŸ’¾ Brouillon', en: 'ðŸ’¾ Draft' },
    'btn-publish': { fr: 'ðŸš€ Publier', en: 'ðŸš€ Publish' },
    'no-programs': { fr: 'Aucun programme', en: 'No programs' },
    'create-first-program': { fr: 'CrÃ©ez votre premier programme', en: 'Create your first program' },
    'status-published': { fr: 'âœ“ PubliÃ©', en: 'âœ“ Published' },
    'status-draft': { fr: 'â³ Brouillon', en: 'â³ Draft' },
    'passed': { fr: '(passÃ©e)', en: '(passed)' },
    'no-published-courses': { fr: 'Aucun cours publiÃ©', en: 'No published courses' },
    'no-documents-available': { fr: 'Aucun document disponible.', en: 'No documents available.' },
    'create-document-link': { fr: 'CrÃ©er un document', en: 'Create a document' },
    'acceptance-required': { fr: 'âœ… Acceptation requise', en: 'âœ… Acceptance required' },
    'title-required': { fr: 'âŒ Titre requis', en: 'âŒ Title required' },
    'select-one-course': { fr: 'âŒ SÃ©lectionnez au moins un cours', en: 'âŒ Select at least one course' },
    'draft-saved': { fr: 'âœ… Brouillon enregistrÃ© !', en: 'âœ… Draft saved!' },
    'program-published': { fr: 'âœ… Programme publiÃ© !', en: 'âœ… Program published!' },
    'program-deleted': { fr: 'âœ… Programme supprimÃ©', en: 'âœ… Program deleted' },
    'confirm-delete-program': { fr: 'Supprimer ce programme ?', en: 'Delete this program?' },
    'modules': { fr: 'modules', en: 'modules' },
    
    // ==================== USERS MANAGEMENT ====================
    'page-title-users': { fr: 'Gestion des Utilisateurs', en: 'User Management' },
    'users-title': { fr: 'ðŸ‘¥ Gestion des Utilisateurs', en: 'ðŸ‘¥ User Management' },
    'tab-students': { fr: 'ðŸŽ“ Ã‰tudiants', en: 'ðŸŽ“ Students' },
    'tab-add-student': { fr: 'âž• Ajouter', en: 'âž• Add' },
    'search-placeholder': { fr: 'Rechercher un Ã©tudiant...', en: 'Search for a student...' },
    'add-student': { fr: 'âž• Ajouter un Ã©tudiant', en: 'âž• Add a Student' },
    'student-lastname': { fr: 'Nom', en: 'Last Name' },
    'student-firstname': { fr: 'PrÃ©nom', en: 'First Name' },
    'student-email': { fr: 'Email', en: 'Email' },
    'btn-add-student': { fr: 'âž• Ajouter l\'Ã©tudiant', en: 'âž• Add Student' },
    'no-students': { fr: 'Aucun Ã©tudiant', en: 'No students' },
    'add-first-student': { fr: 'Ajoutez votre premier Ã©tudiant', en: 'Add your first student' },
    'student-added': { fr: 'âœ… Ã‰tudiant ajoutÃ© !', en: 'âœ… Student added!' },
    'student-deleted': { fr: 'Ã‰tudiant supprimÃ©', en: 'Student deleted' },
    'confirm-delete-student': { fr: 'Supprimer cet Ã©tudiant ?', en: 'Delete this student?' },
    'assign-courses': { fr: 'ðŸ“š Assigner des cours', en: 'ðŸ“š Assign Courses' },
    'assign-programs': { fr: 'ðŸŽ“ Assigner des programmes', en: 'ðŸŽ“ Assign Programs' },
    'no-courses-to-assign': { fr: 'Aucun cours publiÃ© Ã  assigner', en: 'No published courses to assign' },
    'no-programs-to-assign': { fr: 'Aucun programme publiÃ© Ã  assigner', en: 'No published programs to assign' },
    'assignments-saved': { fr: 'âœ… Assignations enregistrÃ©es !', en: 'âœ… Assignments saved!' },
    
    // ==================== COURSES MANAGEMENT ====================
    'page-title-courses': { fr: 'Gestion des Cours', en: 'Course Management' },
    'courses-title': { fr: 'ðŸ“š Mes Cours', en: 'ðŸ“š My Courses' },
    'btn-create-course': { fr: 'âž• CrÃ©er un cours', en: 'âž• Create Course' },
    'no-courses-created': { fr: 'Aucun cours crÃ©Ã©', en: 'No courses created' },
    'create-first-course': { fr: 'CrÃ©ez votre premier cours', en: 'Create your first course' },
    
    // ==================== VIEW COURSE ====================
    'page-title-view-course': { fr: 'Cours - LearningHub', en: 'Course - LearningHub' },
    'course-content': { fr: 'Contenu du cours', en: 'Course Content' },
    'quiz': { fr: 'Quiz', en: 'Quiz' },
    'question': { fr: 'Question', en: 'Question' },
    'of': { fr: 'sur', en: 'of' },
    'btn-validate': { fr: 'Valider', en: 'Validate' },
    'btn-next': { fr: 'Suivant', en: 'Next' },
    'btn-previous': { fr: 'PrÃ©cÃ©dent', en: 'Previous' },
    'btn-finish': { fr: 'Terminer', en: 'Finish' },
    'correct-answer': { fr: 'Bonne rÃ©ponse !', en: 'Correct answer!' },
    'wrong-answer': { fr: 'Mauvaise rÃ©ponse', en: 'Wrong answer' },
    'quiz-result': { fr: 'RÃ©sultat du quiz', en: 'Quiz Result' },
    'your-score': { fr: 'Votre score', en: 'Your score' },
    'min-score-required': { fr: 'Score minimum requis', en: 'Minimum score required' },
    'congratulations': { fr: 'FÃ©licitations !', en: 'Congratulations!' },
    'course-completed': { fr: 'Vous avez terminÃ© ce cours !', en: 'You have completed this course!' },
    'download-certificate': { fr: 'ðŸ“œ TÃ©lÃ©charger mon certificat', en: 'ðŸ“œ Download my certificate' },
    'time-spent': { fr: 'Temps passÃ©', en: 'Time spent' },
    'required-duration': { fr: 'DurÃ©e requise', en: 'Required duration' },
    'min-time-not-reached': { fr: 'Temps minimum non atteint', en: 'Minimum time not reached' },
    'min-remaining': { fr: 'min restantes', en: 'min remaining' },
    
    // ==================== SETTINGS ====================
    'page-title-settings': { fr: 'ParamÃ¨tres', en: 'Settings' },
    'settings-title': { fr: 'âš™ï¸ ParamÃ¨tres', en: 'âš™ï¸ Settings' },
    'banner-settings': { fr: 'BanniÃ¨re latÃ©rale', en: 'Sidebar Banner' },
    'banner-upload': { fr: 'TÃ©lÃ©charger une image', en: 'Upload an image' },
    'banner-width': { fr: 'Largeur (px)', en: 'Width (px)' },
    'btn-save-banner': { fr: 'Enregistrer la banniÃ¨re', en: 'Save Banner' },
    
    // ==================== CATEGORIES ====================
    'page-title-categories': { fr: 'CatÃ©gories', en: 'Categories' },
    'categories-title': { fr: 'ðŸ“ Gestion des CatÃ©gories', en: 'ðŸ“ Category Management' },
    'add-category': { fr: 'Ajouter une catÃ©gorie', en: 'Add a category' },
    'category-name': { fr: 'Nom de la catÃ©gorie', en: 'Category name' },
    'btn-add-category': { fr: 'âž• Ajouter', en: 'âž• Add' },
    'no-categories': { fr: 'Aucune catÃ©gorie', en: 'No categories' },
    'category-added': { fr: 'CatÃ©gorie ajoutÃ©e', en: 'Category added' },
    'category-deleted': { fr: 'CatÃ©gorie supprimÃ©e', en: 'Category deleted' },
    'confirm-delete-category': { fr: 'Supprimer cette catÃ©gorie ?', en: 'Delete this category?' },
    
    // ==================== COMMON ====================
    'error': { fr: 'Erreur', en: 'Error' },
    'success': { fr: 'SuccÃ¨s', en: 'Success' },
    'loading': { fr: 'Chargement...', en: 'Loading...' },
    'save': { fr: 'Enregistrer', en: 'Save' },
    'cancel': { fr: 'Annuler', en: 'Cancel' },
    'delete': { fr: 'Supprimer', en: 'Delete' },
    'edit': { fr: 'Modifier', en: 'Edit' },
    'view': { fr: 'Voir', en: 'View' },
    'close': { fr: 'Fermer', en: 'Close' },
    'yes': { fr: 'Oui', en: 'Yes' },
    'no': { fr: 'Non', en: 'No' },
    'or': { fr: 'ou', en: 'or' },
    'and': { fr: 'et', en: 'and' },
    'minutes': { fr: 'minutes', en: 'minutes' },
    'hours': { fr: 'heures', en: 'hours' },
    'day': { fr: 'jour', en: 'day' },
    'days': { fr: 'jours', en: 'days' },
};

// Get current language from localStorage (default: 'fr')
function getCurrentLang() {
    return localStorage.getItem('lang') || 'fr';
}

// Set language
function setLang(lang) {
    localStorage.setItem('lang', lang);
    applyTranslations();
    updateLangSelector();
}

// Get translation
function t(key) {
    const lang = getCurrentLang();
    if (translations[key]) {
        return translations[key][lang] || translations[key]['fr'] || key;
    }
    return key;
}

// Apply translations to page
function applyTranslations() {
    const lang = getCurrentLang();
    
    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[key]) {
            el.textContent = translations[key][lang];
        }
    });
    
    // Update all elements with data-i18n-placeholder attribute
    document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
        const key = el.getAttribute('data-i18n-placeholder');
        if (translations[key]) {
            el.placeholder = translations[key][lang];
        }
    });
    
    // Update all elements with data-i18n-title attribute
    document.querySelectorAll('[data-i18n-title]').forEach(el => {
        const key = el.getAttribute('data-i18n-title');
        if (translations[key]) {
            el.title = translations[key][lang];
        }
    });
    
    // Update page title
    const titleEl = document.querySelector('title[data-i18n]');
    if (titleEl) {
        const key = titleEl.getAttribute('data-i18n');
        if (translations[key]) {
            document.title = translations[key][lang];
        }
    }
    
    // Update html lang attribute
    document.documentElement.lang = lang === 'en' ? 'en' : 'fr';
}

// Update language selector UI
function updateLangSelector() {
    const lang = getCurrentLang();
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.getAttribute('data-lang') === lang) {
            btn.classList.add('active');
        }
    });
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', () => {
    applyTranslations();
    updateLangSelector();
});

// Export for use in other scripts
window.translations = translations;
window.t = t;
window.getCurrentLang = getCurrentLang;
window.setLang = setLang;
window.applyTranslations = applyTranslations;
